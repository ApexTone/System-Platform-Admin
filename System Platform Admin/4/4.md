# Enterprise Hardware
- Hardware สำหรับ server ต้องทำการเปลี่ยนได้โดยไม่ต้อง down server เพื่อลด downtime ให้มากที่สุด (downtime = เสียเงิน/เสียโอกาสทางธุรกิจ)
	- Business Continuity = ความต่อเนื่องทางธุรกิจ เป็นตัวกำหนดว่า uptime ควรเยอะขนาดไหน ถ้าต้องการต่อเนื่องมาก ๆ ยิ่งต้อง downtime น้อย
	- อย่าคิดที่ค่าเฉลี่ยโดยคร่าว ๆ ควรคิดที่ worst case ที่ทำให้เราเสียโอกาสทางธุรกิจมากที่สุด
- ต่อให้ปรับ OS/software อื่น ๆ ดีขนาดไหน สุดท้ายก็เกิดข้อจำกัดที่ hardware อยู่ดี
- ปัญหาของ enterprise hardware คือ
	- หลาย ๆ ชิ้นมีความ proprietary กับแต่ละแบรนด์เลย (เช่น CPU  Parisc (HP), Sparc (sun microsystem)) เพราะ machine code เป็นของแต่ละแบรนด์ ทำให้ใช้ข้ามแบรนด์ไม่ได้
	- การซื้อ hardware เพิ่มเติมเช่น network interface, storage, ram ก็ต้องเป็น proprietary เหมือนกัน
	- การใช้บริการหลังการขายก็ต้อง service ด้วยช่างแต่ละบริษัท
	ปัญหาพวกนี้ทำให้องค์กรขนาดที่เล็กลงมา เปลี่ยนไปใช้ PC-based server กันมากขึ้นเพราะลดปัญหา compatibility ได้มากกว่า แบรนด์ใหญ่ ๆ เช่น DELL

# Server
- form factor
	- ![[Pasted image 20230202095530.png]]
	- เลือกขนาดและดีไซน์ให้เหมาะกับการติดตั้งและจัดเก็บ
	- Tower (server ยุคแรก ๆ สูงกว่าคอมปกติฟุตกว่า) มีขนาดค่อนข้างใหญ่ desktop ไว้ตั้งบนโต๊ะ, tower ไว้วางใต้โต๊ะ (จุดประสงค์การใช้ desktop คือเอาไว้รองจอแก้วให้สูงพอดีตา) => desktop จะเปลี่ยนอุปกรณ์ + modify ได้ค่อนข้างน้อย ถ้าอยากแต่งเยอะ ๆ ต้องใช้ tower แทน => คอมตั้งโต๊ะในปัจจุบันจะเป็นขนาดที่เรียกว่า mini tower
		- one-socket = 1 CPU chip, two-socket = 2 CPU chips
	- Rack ลดขนาดลงมาจาก Tower เก็บใส่ตู้ได้ง่ายและขยายขนาดโดยเพิ่มความหนาเอา (ขนาดตั้งต้นคือกล่องพิซซ่า = 1U = 1.75 นิ้ว = 4.445 cm) => หนาสุดจะทรงคล้าย ๆ คอมตั้งโต๊ะปัจจุบัน (ด้วยขนาด default ที่เล็กทำให้ expansion card ต่าง ๆ ติดตั้งใน slot ได้ยากเพราะไม่ได้เล็กขนาดนั้น)
		- U ใช้วัดความสูง server (ความหนา)
		- server มีความลึก (ความยาว) เท่าไร
		- ![[Pasted image 20230202101128.png]]
	- ทั้งคู่เอาไปติดในตู้ rack ได้เหมือนกัน (tower คือตะแคงติดตู้ rack เอา)
- การติดตั้ง server ควรติดใน rack และปิดตู้ไว้ ต้องมี airflow ที่ดี (ลมเย็นเข้าข้างล่าง ลมร้อนออกด้านบน) และตั้งในห้องยกพื้น (HVAC unit ดูดอากาศร้อนไปแปลงเป็นอากาศเย็นจากพื้นยกแล้ววนเข้า rack)
	- ติดบน rack ติด ๆ กันเลยก็ได้ ไม่ต้องห่วงเรื่องระบายความร้อนเพราะ airflow ทำจากข้างหน้าไปข้างหลัง ไม่ใช่ทำในแนวตั้ง
- เลือก Spec
	- https://www.dell.com/en-us/shop/cty/pdp/spd/poweredge-t150
		- CPU Pentium G6405T 8 cores, ไม่มี OS อะไรเลย => ลง OS เองได้, RAM 8 GB. 1TB harddisk, ประกัน 1 ปี, 30000 กว่าบาท
		- สำหรับ server คือ spec ที่เพียงพอแล้ว (เน้น ๆ ที่ประกัน 1 ปี ไม่ต้อง service เอง)
		- การซื้ออย่าดูที่ hardware spec อย่างเดียว ดูเรื่อง after-sales service ด้วย เช่น onsite service (ยิ่งกล้าการันตีอะไรพวกนี้ ยิ่งจะมั่นใจได้ว่า hardware จะคงทนมากกว่าเพราะแบรนด์ก็ไม่อยากเสียเงินจากค่าซ่อมพวกนี้เท่าไรด้วย)
	- ![[Pasted image 20230202102651.png]]
	- ![[Pasted image 20230202103127.png]] เป็น chipset สำหรับการทำ maintenance ตัว CPU, mainboard, RAM, storage, network โดยไม่รบกวน OS ที่รันอยู่ => เหมือนเป็น mini-computer ที่ฝังใน server
		- เข้าถึงได้ผ่าน CLI หรือ web interface ต่อมาพัฒนาให้แสดงผลเป็นจอ LCD และไฟ LED ที่จุดต่าง ๆ ใน hardware เพื่อตรวจสอบไว ๆ ได้
		- เป็น hardware maintenance ไม่ใช่ OS maintenance (ต่อให้ OS เสียก็ยังเข้าดูได้เพราะทำงานบน BIOS)
		- ให้ความสำคัญกับความปลอดภัย management unit ด้วยเพราะ hacker สามารถคุมเครื่องได้เต็มที่หากเข้าถึงได้
			- ต้องแยก network อีกวงแล้วใช้วิธีเข้าถึงที่ secure เป็นพิเศษ เช่น 2-FA, encryption, VPN, etc.
	- https://www.dell.com/en-us/shop/povw/poweredge-t550
		- ==CPU Intel Xeon Silver 4310 12 cores/24 threads==, ไม่มี OS, RAM 8 GB, 1.2 TB harddisk, เพิ่ม accelerator ได้, ==ช่องแต่งต่าง ๆ เพิ่มเป็น 8 ช่อง==
		- แต่งได้เยอะขึ้น แพงขึ้น (เผื่ออนาคตได้ดีกว่า)
	- https://www.dell.com/en-us/dt/servers/poweredge-rack-servers.htm#tab0=0&tab1=0&accordion0&accordion1
		- 1-socket rack, ram 12 แผง, 
	- https://www.dell.com/en-us/dt/servers/poweredge-rack-servers.htm#tab0=2&tab1=0&accordion0&accordion1
		- 4-socket rack
	- AMD Epyc https://www.amd.com/en/processors/epyc-server-cpu-family
		- high-performance server processor
		- ![[Pasted image 20230202113100.png]]เน้นไปที่ตลาดในกลุ่มนี้มากกว่า server ตรง ๆ แบบ intel
		- https://www.dell.com/en-us/dt/servers/amd.htm#tab0=0&tab1=0&accordion0 ใช้ AMD มาเล่นกับตลาดที่ไปอีกแนวนอกจาก intel
			- เน้นไปเล่น CPU แรง ใส่ RAM เพิ่มได้เยอะเพื่อการคำนวณ matrix
	- https://www.hpe.com/us/en/compute/hpc/apollo-systems.html ทำ super computer (high-performance computer) ให้ราคาต่ำลง (หลัก 10 ล้าน) โดยใช้ Apollo
		- สู้ราคา dell, acer ไม่ได้ เลยทำอีกสายไปเลย (บริษัทเดียวกันกับ HP)
		- https://buy.hpe.com/us/en/servers/apollo-systems/apollo-2000-system/apollo-2000-system/hpe-apollo-2000-gen10-plus-system/p/1012684166
			- ![[Pasted image 20230202114402.png]]มี CPU ทั้ง intel ทั้ง AMD เลย ก็คือลง OS ปกติบน intel ได้แล้วใช้ AMD Epyc คำนวณอะไรแปลก ๆ เอา
	- https://www.oracle.com/servers/ ซื้อ sun microsystem แล้วออกสายผลิต hardware เพื่องาน database ที่ไม่ใช้ intel (ใช้ sun SPARC)
		- ขนาด server ไล่ตั้งแต่ 1U (rack ปกติ) ไปจนถึงใหญ่เท่า server rack
		- CPU ส่วนใหญ่ใช้เป็น SPARC M8 เพียง 1 chip ซึ่งเป็น 32 core (5 ghz/core => ไวกว่า intel เกือบเท่าตัว) 4 threads/core (มากกว่า intel อีกแล้ว) รวม 256 threads
			- ทั้งนี้บาง model ใส่ได้มากถึง 8 chip
			- RAM มากถึง 16 TB
			- ซึ่ง spec พวกนี้เน้นใช้เพื่อเป็น DBMS
		- oracle ขายเครื่องที่เป็น SPARC ถูกกว่าเครื่องที่เป็น intel ด้วย โดยไปถูกกว่ากันเยอะ ๆ ในส่วนของ DBMS license และ optimization ที่ทำให้ SPARC รัน Oracle DBMS ได้ดีกว่า
---
# Keywords